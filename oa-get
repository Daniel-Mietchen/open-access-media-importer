#!/usr/bin/env python
# -*- coding: utf-8 -*-

from os import path
from sys import argv, stderr

action = argv[1]
assert(action in ['metadata', 'media'])

import config

from helpers import ftp

if action == 'metadata':
    metadata_path = path.join(config.cache_path, 'metadata')

    for source_name in config.sources.keys():
        source = config.sources[source_name]
        if source['type'] == 'ftp':
            ftp.get(source['server'], source['files'],
                path.join(metadata_path, source_name))

if action == 'media':
    raise NotImplementedError
